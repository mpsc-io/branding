<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="HooT RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="HooT Atom Feed"><title data-rh="true">Use-Case Vehicle Fleet Communication using HooT &amp; AI | HooT</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hoot.mx/blog/UseCase-Command-Control"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="cloud-native conferencing, conference-api, hoot-conferencing"><meta data-rh="true" property="og:title" content="Use-Case Vehicle Fleet Communication using HooT &amp; AI | HooT"><meta data-rh="true" name="description" content="The Command and Control (C2) market with respect to fleets of vehicles refers to the technology, software, and services that enable military, government, and commercial organizations to manage and control their fleets of vehicles in real-time."><meta data-rh="true" property="og:description" content="The Command and Control (C2) market with respect to fleets of vehicles refers to the technology, software, and services that enable military, government, and commercial organizations to manage and control their fleets of vehicles in real-time."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-04-16T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="hoot,ucaas,command-control,digital-communications,fleet-management,ai,artificial-intelligence"><link data-rh="true" rel="icon" href="/img/hoot_icon.png"><link data-rh="true" rel="canonical" href="https://hoot.mx/blog/UseCase-Command-Control"><link data-rh="true" rel="alternate" href="https://hoot.mx/blog/UseCase-Command-Control" hreflang="en"><link data-rh="true" rel="alternate" href="https://hoot.mx/blog/UseCase-Command-Control" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f791a42a.css">
<link rel="preload" href="/assets/js/runtime~main.f1f06304.js" as="script">
<link rel="preload" href="/assets/js/main.d67c4783.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/hoot_logo.svg" alt="HooT" class="themedImage_ToTc themedImage--light_HNdA navbar-logo"><img src="/img/hoot_logo.svg" alt="HooT" class="themedImage_ToTc themedImage--dark_i4oU navbar-logo"></div></a><a aria-current="page" class="navbar__item navbar__link nav-links navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link nav-links" href="/docs/design">Design</a><a class="navbar__item navbar__link nav-links" href="/api">API</a><a class="navbar__item navbar__link nav-links" href="/docs">How to use</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link nav-links">Deployments</a><ul class="dropdown__menu"><li><a href="https://dev.hoot.mx/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Generic-Development<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://speakerbus-internal.hoot.mx/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Corp Deployment 1<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link nav-links" href="/support-page">Support</a><a href="mailto:info@mpsc.io?subject=%5BHooT%5D%20Access%20Code%20Request&amp;body=I%20am%20interested%20in%20exploring%20the%20HooT%20Conferencing%20App.%20%0A%0A" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link custom-button">Get Access Code</a><a href="mailto:info@mpsc.io?subject=%5BHooT%5D%20Access%20Code%20Request&amp;body=I%20am%20interested%20in%20exploring%20the%20HooT%20Conferencing%20App.%20%0A%0A" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link nav-links mobile">Get Access Code</a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All our posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/UseCase-Command-Control">Use-Case Vehicle Fleet Communication using HooT &amp; AI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Kurento-DeepDive">Understanding Kurento Ecosystem &amp; Use Cases</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/UCaaS-WebRTC">Unified Communications as a Service and WebRTC</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/hoot-oidc">HooT Authentication using OpenID Connect</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/voip-webrtc">VoIP &amp; WebRTC</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Use-Case Vehicle Fleet Communication using HooT &amp; AI</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-04-16T00:00:00.000Z" itemprop="datePublished">April 16, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Amar Akshat</span></div><small class="avatar__subtitle" itemprop="description">Sous-chef</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>The Command and Control (C2) market with respect to fleets of vehicles refers to the technology, software, and services that enable military, government, and commercial organizations to manage and control their fleets of vehicles in real-time.</p><p>In this market, C2 systems via HooT API are used to coordinate the movement, positioning, and deployment of vehicles, such as military convoys, emergency response vehicles, commercial fleets, and public transportation.
These systems use advanced technologies, such as GPS tracking, internet communication, and integration with collaboration engines to provide situational awareness, decision-making support, and efficient resource allocation.</p><p>HooT&#x27;s API platform with respect to fleets of vehicles includes a range of solutions, from standalone software applications to integrated hardware and software systems.
The API can be customized to meet the specific needs of each organization, depending on the size of the fleet, the type of vehicles, the nature of the mission, and the operational environment.</p><p><img loading="lazy" src="/assets/images/general-0d8349e344fd41d3aade62a98a0bc35b.png" width="320" height="320" class="img_ev3q"></p><p>The demand for C2 systems in the fleet management market is driven by the increasing need for efficient and secure vehicle operations, improved situational awareness, and real-time decision-making support. This market is expected to continue growing as the demand for advanced fleet management solutions increases, especially in the military and emergency response sectors.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-hoot-application">The HooT Application<a class="hash-link" href="#the-hoot-application" title="Direct link to heading">​</a></h2><p>A major fleet management company can automate and relay fleet missions, broadcast alerts, and enable fleet-client communication dynamically with geospatial awareness and realtime information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mission">Mission<a class="hash-link" href="#mission" title="Direct link to heading">​</a></h3><p>The mission is to send deliveries across a large metropolitan area, while enabling</p><ul><li>real-time awareness of the current zone</li><li>update of mission and new workflow adoption</li><li>client to vehicle communication for any modifications in the plan</li><li>group communication within fleets</li><li>point-to-point channel with the vehicle-driver</li></ul><p>Delivery of aforementioned workflows can be achieved with an internet-enabled, smart-phone or tablet installed in the vehicle.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="real-time-conference-switches-and-awareness">Real-time conference switches and awareness<a class="hash-link" href="#real-time-conference-switches-and-awareness" title="Direct link to heading">​</a></h4><p>Using <code>CoreLocation</code> in iOS and <code>Geocoder</code> in Android, identifying the location of a vehicle and then pinning it to a contextual travel-zone can be accomplished.
Every geographically demarcated travel-zone will have an automatically created conference bridge of it&#x27;s own.</p><p>Upon entering a new zone, the vehicle could automatically join the conference bridge of that zone for real-time mission updates and regional updates.</p><p><img loading="lazy" src="/assets/images/zonetruck-c35251778e93d2c84cbc2080d17b8feb.png" width="1205" height="741" class="img_ev3q"></p><p><strong>Sample Code for workflow</strong></p><p>Getting the location from device</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Android</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.Manifest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.content.Context</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.content.pm.PackageManager</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import android.location.Location</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import androidx.core.app.ActivityCompat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import com.google.android.gms.location.FusedLocationProviderClient</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import com.google.android.gms.location.LocationServices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fun getCurrentLocation(context: Context, callback: (Location?) -&gt; Unit) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    val fusedLocationClient: FusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(context)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (ActivityCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Permission not granted, handle accordingly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        callback(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fusedLocationClient.lastLocation.addOnSuccessListener { location: Location? -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Got last known location. In some rare situations this can be null.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        callback(location)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using the location function</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">getCurrentLocation(this) { location -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Do something with the location object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (location != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        val latitude = location.latitude</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        val longitude = location.longitude</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Location is null, handle accordingly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>API for adding/removing from conference </p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Remove the truck_id from previous_zone_conf_id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -v -H </span><span class="token string" style="color:#e3116c">&quot;Authorization: </span><span class="token string variable" style="color:#36acaa">$JWT</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -X POST --data </span><span class="token string" style="color:#e3116c">&#x27;{&quot;remove_users&quot;: truck_id,..}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://devapi.hoot.mx/v1/edit_conference/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">previous_zone_conf_id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add the truck to new_zone_conf_id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -v -H </span><span class="token string" style="color:#e3116c">&quot;Authorization: </span><span class="token string variable" style="color:#36acaa">$JWT</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -X POST --data </span><span class="token string" style="color:#e3116c">&#x27;{&quot;new_participants&quot;: truck_id,..}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://devapi.hoot.mx/v1/edit_conference/</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">new_zone_conf_id</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="mission-updates">Mission Updates<a class="hash-link" href="#mission-updates" title="Direct link to heading">​</a></h4><ul><li>Live chats can be relayed to all conference users</li><li>Priority of notifications can be decided by the admin-relayer</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="client-to-vehicle-communication">Client to Vehicle Communication<a class="hash-link" href="#client-to-vehicle-communication" title="Direct link to heading">​</a></h4><p>During the course of the mission, upcoming milestones can trigger a communication link to the milestone client.</p><p>The milestone-client, in case of exceptions and emergencies can join the communication link via web on their mobile devices and communicate about the situation.</p><p><strong>Algorithm</strong></p><ol><li>Identify next N milestones</li><li>Invite the milestone clients to join a unique link to communicate about their situation if they need to.</li><li>Remove the links once the milestone is complete.</li></ol><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">milestone_communications</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">truck</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> next_communication_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> milestone </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> truck</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">milestones</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">next_communication_size</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        truck</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send_comm_link</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">milestone</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client_comm_address</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="group-communications-and-event-notification">Group Communications and Event Notification<a class="hash-link" href="#group-communications-and-event-notification" title="Direct link to heading">​</a></h4><p>The truck could automatically subscribe to the event-loop using the <a href="/docs/glayr">glayr-api</a>.</p><p>All the urgent-communication events would then flash with the name of the relayer on the dashboard of the driver.</p><p>Similarly, for the admin to directly communicate with the truck on a private secure channel, they can invoke the API to kickstart the collaboration.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-usage">Advanced Usage<a class="hash-link" href="#advanced-usage" title="Direct link to heading">​</a></h2><p>Using AI and collaborating with our team of engineers and data-scientists we can create innovative ways to identify certain situations.</p><p>One of the use-cases our team came across was to identify distress from conference voice streams.</p><p><strong>Goal: Distress Identification from fleet conferences.</strong> </p><ol><li>We created a model trained to detect distress in voice streams.</li><li>We deployed an <code>analyzer</code> to our Kurento media stream</li><li>Identified the distress.</li></ol><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tensorflow </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> kurento</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> KurentoClient</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MediaPipeline</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MediaElement</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> MediaPad</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> WebRtcEndpoint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define the TensorFlow model and input/output tensors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">keras</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load_model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;distress_model.h5&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">input_tensor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inputs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_tensor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outputs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Connect to Kurento Media Server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kurento_client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> KurentoClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ws://localhost:8888/kurento&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pipeline </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kurento_client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;MediaPipeline&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">webrtc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;WebRtcEndpoint&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">webrtc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pipeline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create a GStreamer element that captures the voice stream and feeds it to the TensorFlow model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">caps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;audio/x-raw,format=S16LE,channels=1,layout=interleaved,rate=44100&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src_element </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;GstAppSrc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> caps</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">caps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src_pad </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> src_element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">create_src_pad</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">src_element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;need-data&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> on_need_data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define the callback function that processes the voice stream with the TensorFlow model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">on_need_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">src</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get the voice stream data from the Kurento WebRtcEndpoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> webrtc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">emit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;generate-data-event&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Preprocess the data for the TensorFlow model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">frombuffer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">int16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">audio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">encode_wav</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">audio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sample_rate</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">44100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">io</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">decode_wav</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">audio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    audio </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expand_dims</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">audio</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axis</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Pass the data through the TensorFlow model to make a prediction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prediction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">audio</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> prediction</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> prediction</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># No distress detected</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;No distress detected&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Distress detected</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Distress detected&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code uses TensorFlow to load a pre-trained model that has been trained to detect distress in voice streams.
It then creates a Kurento Media Pipeline and a WebRtcEndpoint.
The GStreamer element <code>GstAppSrc</code> is used to capture the voice stream from the <code>WebRtcEndpoint</code> and feed it to the TensorFlow model. The on_need_data callback function is called whenever new data is available, and it processes the data with the TensorFlow model to make a prediction.
If the model predicts that distress is present in the voice stream, the callback function outputs a message indicating that distress has been detected.</p><p>Note that this is a simple example and that the TensorFlow model used in this code is just a placeholder.
In practice, you would need to train a more sophisticated model on a large dataset of distressful voice streams in order to achieve accurate results.</p><p>In a future blog we will discuss training voice-distress models in more detail.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hoot">hoot</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ucaas">ucaas</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/command-control">command-control</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/digital-communications">digital-communications</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/fleet-management">fleet-management</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ai">ai</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/artificial-intelligence">artificial-intelligence</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/mpsc-io/branding/edit/main/user_guide/blog/2023-04-16-uc-distributed-command-control.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/Kurento-DeepDive"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Understanding Kurento Ecosystem &amp; Use Cases</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-hoot-application" class="table-of-contents__link toc-highlight">The HooT Application</a><ul><li><a href="#mission" class="table-of-contents__link toc-highlight">Mission</a></li></ul></li><li><a href="#advanced-usage" class="table-of-contents__link toc-highlight">Advanced Usage</a></li></ul></div></div></div></div></div></div>
<script src="/assets/js/runtime~main.f1f06304.js"></script>
<script src="/assets/js/main.d67c4783.js"></script>
</body>
</html>